<!-- TODO 3 -->
<div style="margin-left: auto; margin-right: auto">
    <p id="homeFeedback"></p>
  </div>
  <div>
    <h1>Home</h1>
    <h4>Buscar: </h4>
    <input type="text"
    placeholder="Search.."
    class="form-control"
    (change)="search($event.target)"
    >
    <div class="posts-container">
        <ul class="content">
            <!-- Ex 10 -->
            <!-- <ng-container *ngIf="!(searchResults$ | async)?.length; else searchResultsTemplate"> -->
            <ng-container *ngIf="!(searchResults$ | async); else searchResultsTemplate">
                <li *ngFor="let post of posts">
                    <div class="post-container">
                        <div class="categories" *ngFor="let cat of post.categories">
                            <div class="content2" [style.background-color]="cat.css_color">{{ cat.title }}</div>
                        </div>
                        <div class="name"><h3>Title: {{ post.title }}</h3></div>
                        <div class="post">Description: {{ post.description }}</div>
                        <div class="post">Publication date: {{ post.publication_date | formatDate:2 }}</div>
                        <div class="post">Likes: {{ post.num_likes }}</div>
                        <div class="post">Dislikes: {{ post.num_dislikes }}</div>
                        <div class="post">Published by: {{ post.userAlias }}</div>
                        <button class="postButton" (click)="like(post.postId)" *ngIf="showButtons"><span>Like</span></button>
                        <button class="postButton" (click)="dislike(post.postId)" *ngIf="showButtons"><span>DisLike</span></button>
                    </div> 
                </li>
            </ng-container>
            <!-- Fi exercici 10 -->
            <ng-template #searchResultsTemplate>
                <p>POST FOUND WITH SEARCH </p>
                <li *ngFor="let post of searchResults">
                    <div class="post-container">
                        <div class="categories" *ngFor="let cat of post.categories">
                            <div class="content2" [style.background-color]="cat.css_color">{{ cat.title }}</div>
                        </div>
                        <div class="name"><h3>Title: {{ post.title }}</h3></div>
                        <div class="post">Description: {{ post.description }}</div>
                        <div class="post">Publication date: {{ post.publication_date | formatDate:2 }}</div>
                        <div class="post">Likes: {{ post.num_likes }}</div>
                        <div class="post">Dislikes: {{ post.num_dislikes }}</div>
                        <div class="post">Published by: {{ post.userAlias }}</div>
                        <button class="postButton" (click)="like(post.postId)" *ngIf="showButtons"><span>Like</span></button>
                        <button class="postButton" (click)="dislike(post.postId)" *ngIf="showButtons"><span>DisLike</span></button>
                    </div> 
                </li>
            </ng-template>
        </ul>
    </div>
  </div>